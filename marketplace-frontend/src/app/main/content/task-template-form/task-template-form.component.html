<div class="page-layout blank p-24" fusePerfectScrollbar>

  <!-- HEADER -->
  <div class="header mat-accent-bg p-16 p-sm-24" fxLayout="column" fxLayoutAlign="center center">
    <h1>Task Template</h1>
  </div>
  <!-- / HEADER -->

  <!-- CONTENT -->
  <div class="content p-24 mat-white-bg" fusePerfectScrollbar>

    <form form class="mat-white-bg mat-elevation-z4 p-24 mr-24 mb-24" fxLayout="column" fxLayoutAlign="start"
          fxFlex="1 0 auto" name="form" (submit)="save()" [formGroup]="taskTemplateForm">
      <div fxLayout="row wrap" fxLayoutAlign="start center" fxFlex="1 0 auto">


        <mat-form-field fxFlex="100">
          <input matInput placeholder="Name" formControlName="name">
        </mat-form-field>

        <mat-form-field fxFlex="100">
          <textarea matInput placeholder="Description" formControlName="description"></textarea>
        </mat-form-field>

        <mat-form-field fxFlex="100">
          <mat-select placeholder="Workflow Key" formControlName="workflowType" fxFlex="100">
            <mat-option *ngFor="let workflowType of workflowTypes" [value]="workflowType">{{workflowType.name}}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field fxFlex="100">
          <mat-select placeholder="Required Competences" formControlName="requiredCompetences" multiple>
            <mat-option *ngFor="let competence of competences" [value]="competence">{{competence.name}}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field fxFlex="100">
          <mat-select placeholder="Acquirable Competences" formControlName="acquirableCompetences" multiple>
            <mat-option *ngFor="let competence of competences" [value]="competence">{{competence.name}}</mat-option>
          </mat-select>
        </mat-form-field>

        <div class="alert alert-danger" fxFlex="100" *ngIf="taskTemplateForm.getError('duplactedCompetence')">
          <span>Required and acquirable competences can't contain the same competence!</span>
        </div>

        <button type="submit" mat-raised-button color="primary">Save</button>
      </div>
    </form>
  </div>
