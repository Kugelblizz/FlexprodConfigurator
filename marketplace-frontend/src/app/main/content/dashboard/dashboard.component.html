<div class="page-layout blank p-24" fusePerfectScrollbar>

  <!-- HEADER -->
  <div class="header p-16 p-sm-24" fxLayout="column" fxLayoutAlign="center center">
    <h1>What's Up</h1>
    <img class="header-icon" src="assets/icons/dashboard.svg">
  </div>
  <!-- / HEADER -->

  <div class="content">
    <div class="dashboard-configuration">
      <button mat-button (click)="toggleEditMode()" class="button">Edit</button>
    </div>

    <div *ngIf="inEditMode">
      <fuse-dashlets-selector [dashlets]="gridContent"
                              (dashlets)="dashboard.dashlets = $event"></fuse-dashlets-selector>
    </div>

    <div fxLayout="row wrap" fxLayoutAlign="center">
      <div fxLayout="column" fxFlex="100" fusePerfectScrollbar>

        <div *ngIf="!gridContent || gridContent.length === 0">
          <div id="empty-message" *ngIf="!inEditMode" class="dashboard-message">
            Please click on "Edit"-button to add dashlets to the dashboard.
          </div>
          <div id="empty-edit-message" *ngIf="inEditMode" class="dashboard-message">
            Please select dashlets from the drop-down menu to add them to the dashboard.
          </div>
        </div>

        <div class="dashboard-area" style="background-color: inherit">
          <gridster #gridster [options]="gridConfig" style="min-height: 1000px;">
            <gridster-item [item]="item" *ngFor="let item of gridContent" style="padding: 5px;">
              <fuse-dashlet [name]="item.name" [inEditMode]="inEditMode">
                <ndc-dynamic [ndcDynamicComponent]="findDashletComponenet(item.id)"></ndc-dynamic>
              </fuse-dashlet>
            </gridster-item>
          </gridster>
        </div>
      </div>
    </div>
  </div>
</div>
