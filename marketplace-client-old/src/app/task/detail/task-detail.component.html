<div *ngIf="task">

  <h3>Task Detail</h3>
  <div class="edit-link" *ngIf="role === 'EMPLOYEE'">
    <img src="assets/edit.svg" routerLink="/task/{{task.id}}">
  </div>

  <form class="task-form" [formGroup]="">
    <mat-form-field class="full-width">
      <input matInput placeholder="Name" [readonly]="true" [value]="task.name">
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput placeholder="Description" [readonly]="true" [value]="task.description">
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput [readonly]="true" placeholder="Start Date" [value]="task.startDate | date: 'dd.MM.yyyy'">
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput [readonly]="true" placeholder="End Date" [value]="task.endDate | date: 'dd.MM.yyyy'">
    </mat-form-field>

    <mat-form-field class="full-width">
      <input matInput placeholder="Status" [readonly]="true" [value]="task.status">
    </mat-form-field>

    <mat-form-field class="full-width">
      <p>Required Competences</p><b></b>
      <mat-chip-list>
        <mat-chip disabled *ngFor="let competence of task.requiredCompetences">{{ competence.name }}</mat-chip>
      </mat-chip-list>
    </mat-form-field>

    <mat-form-field class="full-width">
      <p>Acquirable Competences</p><b></b>
      <mat-chip-list>
        <mat-chip disabled *ngFor="let competence of task.acquirableCompetences">{{ competence.name }}</mat-chip>
      </mat-chip-list>
    </mat-form-field>
  </form>

  <mat-divider></mat-divider>

  <div>
    <button *ngFor="let workflowStep of workflowStepsDefault" (click)="executeNextWorkflowStep(workflowStep)" mat-raised-button
            color="primary">
      {{workflowStep.label}}
    </button>
  </div>

  <mat-divider></mat-divider>

  <!-- Custom Workflow Step Implementation -->
  
  <div *ngIf="workflowStepsAssignment?.length > 0">
    <app-task-assign [workflowStepsAssignment]="workflowStepsAssignment" [participant]="participant" [task]="task" [workflowProcessId]="workflowProcessId"></app-task-assign>
  </div>

  <!-- End Custom Workflow Step Implementation -->

  <div *ngIf="role === 'EMPLOYEE'">
    <app-task-interaction-history [id]="task.id"></app-task-interaction-history>
  </div>
</div>
